(()=>{var e={};e.id=724,e.ids=[220,636,724],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},979:()=>{},1663:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(8732),a=s(2341);function i(){return(0,r.jsxs)(a.Html,{lang:"en",children:[(0,r.jsxs)(a.Head,{children:[(0,r.jsx)("meta",{charSet:"utf-8"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("body",{children:[(0,r.jsx)(a.Main,{}),(0,r.jsx)(a.NextScript,{})]})]})}},1777:(e,t,s)=>{"use strict";s.d(t,{H:()=>r});let r="http://api.mayhem.local:3000/api"},2015:e=>{"use strict";e.exports=require("react")},2216:(e,t,s)=>{"use strict";s.d(t,{u:()=>a});var r=s(1777);let a=()=>({login:async e=>{let t=await fetch(`${r.H}/login`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();if(!s.success||!s.data)throw Error(s.error||"Failed to login")},logout:async()=>{let e=await fetch("http://api.mayhem.local:3000/api/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}),t=await e.json();if(!t.success)throw Error(t.error||"Failed to logout")}})},2326:e=>{"use strict";e.exports=require("react-dom")},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},4144:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>v,default:()=>f,getServerSideProps:()=>y,getStaticPaths:()=>b,getStaticProps:()=>j,reportWebVitals:()=>w,routeModule:()=>q,unstable_getServerProps:()=>M,unstable_getServerSideProps:()=>_,unstable_getStaticParams:()=>P,unstable_getStaticPaths:()=>S,unstable_getStaticProps:()=>N});var r={};s.r(r),s.d(r,{default:()=>g});var a=s(3885),i=s(237),l=s(1413),n=s(1663),c=s(6861),o=s(8732),d=s(2216),u=s(2015),x=s(1777);let p=()=>{let[e,t]=(0,u.useState)([]),[s,r]=(0,u.useState)(!0),[a,i]=(0,u.useState)(null);return(0,u.useEffect)(()=>{(async()=>{try{let e=await fetch(`${x.H}/user`);if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let{data:s}=await e.json();t(s)}catch(e){i(e instanceof Error?e:Error("Failed to fetch user"))}finally{r(!1)}})()},[]),{users:e,loading:s,error:a}};var m=s(4233),h=s.n(m);let g=function(){let{users:e,loading:t,error:s}=p(),{logout:r}=(0,d.u)(),a=async()=>{await r(),h().push("/login")};return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,o.jsx)("header",{className:"bg-white shadow",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"User Dashboard"}),(0,o.jsx)("button",{onClick:a,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Logout"})]})})}),(0,o.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 mt-10",children:[t&&(0,o.jsx)("div",{className:"p-4",children:"Loading..."}),s&&(0,o.jsxs)("div",{className:"p-4 text-red-600",children:["Error: ",s.message]}),!t&&!s&&(0,o.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:(0,o.jsx)("div",{className:"overflow-x-auto",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{className:"bg-gray-50",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permissions"})]})}),(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e&&e.length>0?e.map(e=>(0,o.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.id}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsx)("div",{className:"ml-4",children:(0,o.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})})})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${"admin"===e.permissions?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:e.permissions})})]},e.id)):(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No users found."})})})]})})})]})]})},f=(0,l.M)(r,"default"),j=(0,l.M)(r,"getStaticProps"),b=(0,l.M)(r,"getStaticPaths"),y=(0,l.M)(r,"getServerSideProps"),v=(0,l.M)(r,"config"),w=(0,l.M)(r,"reportWebVitals"),N=(0,l.M)(r,"unstable_getStaticProps"),S=(0,l.M)(r,"unstable_getStaticPaths"),P=(0,l.M)(r,"unstable_getStaticParams"),M=(0,l.M)(r,"unstable_getServerProps"),_=(0,l.M)(r,"unstable_getServerSideProps"),q=new a.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/dashboard",pathname:"/dashboard",bundlePath:"",filename:""},components:{App:c.default,Document:n.default},userland:r})},6861:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(8732);function a({Component:e,pageProps:t}){return(0,r.jsx)(e,{...t})}s(979)},7910:e=>{"use strict";e.exports=require("stream")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9021:e=>{"use strict";e.exports=require("fs")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[341,441],()=>s(4144));module.exports=r})();