(()=>{var e={};e.id=295,e.ids=[220,295,636],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},979:()=>{},1663:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(8732),a=r(2341);function i(){return(0,s.jsxs)(a.Html,{lang:"en",children:[(0,s.jsxs)(a.Head,{children:[(0,s.jsx)("meta",{charSet:"utf-8"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("body",{children:[(0,s.jsx)(a.Main,{}),(0,s.jsx)(a.NextScript,{})]})]})}},1777:(e,t,r)=>{"use strict";r.d(t,{H:()=>s});let s="http://api.mayhem.local:3000/api"},2015:e=>{"use strict";e.exports=require("react")},2216:(e,t,r)=>{"use strict";r.d(t,{u:()=>a});var s=r(1777);let a=()=>({login:async e=>{let t=await fetch(`${s.H}/login`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!r.success||!r.data)throw Error(r.error||"Failed to login")},logout:async()=>{let e=await fetch("http://api.mayhem.local:3000/api/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}),t=await e.json();if(!t.success)throw Error(t.error||"Failed to logout")}})},2326:e=>{"use strict";e.exports=require("react-dom")},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},4370:(e,t,r)=>{"use strict";r.r(t),r.d(t,{config:()=>v,default:()=>h,getServerSideProps:()=>b,getStaticPaths:()=>f,getStaticProps:()=>g,reportWebVitals:()=>j,routeModule:()=>M,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>w});var s={};r.r(s),r.d(s,{default:()=>x});var a=r(3885),i=r(237),l=r(1413),n=r(1663),o=r(6861),d=r(8732),c=r(2216),u=r(4233),p=r.n(u),m=r(2015);function x(){let{login:e}=(0,c.u)(),[t,r]=(0,m.useState)(""),[s,a]=(0,m.useState)(""),[i,l]=(0,m.useState)(!1),[n,o]=(0,m.useState)(""),u=async r=>{if(r.preventDefault(),o(""),!t.trim())return void o("Username is required");if(!s)return void o("Password is required");l(!0);try{await e({username:t,password:s}),p().push("/dashboard")}catch(e){o(e instanceof Error?e.message:"Invalid username or password")}finally{l(!1)}};return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),(0,d.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:u,children:[n&&(0,d.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)("svg",{className:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,d.jsx)("div",{className:"ml-3",children:(0,d.jsx)("p",{className:"text-sm text-red-700",children:n})})]})}),(0,d.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"username",className:"sr-only",children:"Username"}),(0,d.jsx)("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Username",value:t,onChange:e=>r(e.target.value),disabled:i})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,d.jsx)("input",{id:"password",name:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm pr-10",placeholder:"Password",value:s,onChange:e=>a(e.target.value),disabled:i,type:"password"})]})]}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{type:"submit",className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${i?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,disabled:i,children:i?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]})]})})}let h=(0,l.M)(s,"default"),g=(0,l.M)(s,"getStaticProps"),f=(0,l.M)(s,"getStaticPaths"),b=(0,l.M)(s,"getServerSideProps"),v=(0,l.M)(s,"config"),j=(0,l.M)(s,"reportWebVitals"),w=(0,l.M)(s,"unstable_getStaticProps"),y=(0,l.M)(s,"unstable_getStaticPaths"),S=(0,l.M)(s,"unstable_getStaticParams"),P=(0,l.M)(s,"unstable_getServerProps"),N=(0,l.M)(s,"unstable_getServerSideProps"),M=new a.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/login",pathname:"/login",bundlePath:"",filename:""},components:{App:o.default,Document:n.default},userland:s})},6861:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(8732);function a({Component:e,pageProps:t}){return(0,s.jsx)(e,{...t})}r(979)},7910:e=>{"use strict";e.exports=require("stream")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9021:e=>{"use strict";e.exports=require("fs")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[341,441],()=>r(4370));module.exports=s})();